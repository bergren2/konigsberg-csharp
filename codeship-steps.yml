- name: start_sonarscanner
  service: app
  command: >-
    dotnet-sonarscanner begin
        /k:${SONAR_PROJECT}
        /d:sonar.host.url=${SONAR_HOST}
        /d:sonar.login=${SONAR_TOKEN}
        /d:sonar.organization=${SONAR_ORG}
        /d:sonar.pullrequest.branch=${PR_BRANCH}
        /d:sonar.pullrequest.base=${PR_BASE}
        /d:sonar.pullrequest.key=${PR_ID}
- name: run_tests
  service: app
  command: dotnet test konigsberg-tests
- name: end_sonarscanner
  service: app
  command: >-
    dotnet-sonarscanner end
        /d:sonar.login=${SONAR_TOKEN}

